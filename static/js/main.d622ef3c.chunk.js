(this["webpackJsonpreact-typescript-starter-pack"]=this["webpackJsonpreact-typescript-starter-pack"]||[]).push([[0],{23:function(e,t,c){},24:function(e,t,c){},25:function(e,t,c){},28:function(e,t,c){"use strict";c.r(t);var n=c(0),o=c.n(n),a=c(15),l=c.n(a),r=(c(23),c(24),c(25),c(8)),i=c(4),s=c(13),d=c(5),u=c(3);var j,b=c(1),m=o.a.memo((function(e){var t=e.addTodo,c=Object(n.useState)(""),o=Object(u.a)(c,2),a=o[0],l=o[1];return Object(b.jsxs)("header",{className:"header",children:[Object(b.jsx)("h1",{children:"todos"}),Object(b.jsx)("form",{onSubmit:function(e){e.preventDefault(),t(a),l("")},children:Object(b.jsx)("input",{type:"text","data-cy":"createTodo",className:"new-todo",placeholder:"What needs to be done?",value:a,onChange:function(e){l(e.target.value)}})})]})}));!function(e){e[e.all=0]="all",e[e.active=1]="active",e[e.completed=2]="completed"}(j||(j={}));var f=c(7),h=c.n(f),O=o.a.memo((function(e){var t=e.todo,c=e.onToggle,o=e.onRemove,a=e.onUpdateList,l=t.title,r=t.completed,i=t.id,s=Object(n.useState)(!1),d=Object(u.a)(s,2),j=d[0],m=d[1],f=Object(n.useState)(l),O=Object(u.a)(f,2),p=O[0],g=O[1],v=Object(n.useState)(l),x=Object(u.a)(v,2),N=x[0],k=x[1];return Object(b.jsxs)("li",{className:h()("",{completed:!0===r&&!1===j,editing:j}),onDoubleClick:function(){return m(!0)},children:[Object(b.jsxs)("div",{className:"view",children:[Object(b.jsx)("input",{type:"checkbox",className:"toggle",id:"toggle-view-".concat(i),checked:r,onChange:function(e){c(i,e.target.checked)}}),Object(b.jsx)("label",{htmlFor:"toggle-view-".concat(i),children:p}),Object(b.jsx)("button",{type:"button",className:"destroy","data-cy":"deleteTodo",onClick:function(){return o(i)}})]}),Object(b.jsx)("input",{type:"text",className:"edit",value:N,onBlur:function(){N.length||(o(i),a(i,"title",N)),g(N),a(i,"title",N),m(!1)},onChange:function(e){return k(e.target.value)},onKeyUp:function(e){return"Enter"!==(t=e.key)||N.length||(o(i),a(i,"title",N)),"Enter"===t&&(g(N),a(i,"title",N),m(!1)),void("Escape"===t&&(k(p),a(i,"title",N),m(!1)));var t}})]})})),p=function(e){var t=e.todos,c=e.toggleTodo,n=e.removeTodo,o=e.status,a=e.onUpdateList,l=t.filter((function(e){switch(o){case j.all:return e;case j.completed:return e.completed;case j.active:return!e.completed;default:return 0}}));return Object(b.jsx)("ul",{className:"todo-list","data-cy":"todoList",children:l.map((function(e){return Object(b.jsx)(O,{todo:e,onToggle:c,onRemove:n,onUpdateList:a},e.id)}))})},g=o.a.memo((function(e){var t=e.onFilterClick,c=e.status;return Object(b.jsxs)("ul",{className:"filters",children:[Object(b.jsx)("li",{children:Object(b.jsx)(r.b,{to:"/",className:h()({selected:c===j.all}),onClick:function(){return t(j.all)},children:"All"})}),Object(b.jsx)("li",{children:Object(b.jsx)(r.b,{to:"/active",className:h()({selected:c===j.active}),onClick:function(e){t(j.active),e.preventDefault()},children:"Active"})}),Object(b.jsx)("li",{children:Object(b.jsx)(r.b,{to:"/completed",className:h()({selected:c===j.completed}),onClick:function(){return t(j.completed)},children:"Completed"})})]})})),v=function(){var e=function(e,t){var c=Object(n.useState)((function(){try{var c=localStorage.getItem(e);return c?JSON.parse(c):t}catch(n){return t}})),o=Object(u.a)(c,2),a=o[0],l=o[1];return[a,function(t){l(t),localStorage.setItem(e,JSON.stringify(t))}]}("todos",[]),t=Object(u.a)(e,2),c=t[0],o=t[1],a=Object(n.useState)([]),l=Object(u.a)(a,2),r=l[0],f=l[1],h=Object(n.useState)(j.all),O=Object(u.a)(h,2),v=O[0],x=O[1],N=function(){var e=c.filter((function(e){return!e.completed}));f(e)},k=function(e,t,n){var a=c.map((function(c){return c.id!==e?c:Object(s.a)(Object(s.a)({},c),{},Object(i.a)({},t,n))}));a=Object(d.a)(a).filter((function(e){return e.title.length>0})),o(a),N()};return Object(n.useEffect)((function(){N()}),[c]),Object(b.jsxs)("div",{className:"todoapp",children:[Object(b.jsxs)("header",{className:"header",children:[Object(b.jsx)("h1",{children:"todos"}),Object(b.jsx)(m,{addTodo:function(e){var t={id:+new Date,title:e,completed:!1};o([].concat(Object(d.a)(c),[t]))}})]}),c.length>0&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("section",{className:"main",children:[Object(b.jsx)("input",{type:"checkbox",id:"toggle-all",className:"toggle-all","data-cy":"toggleAll",checked:0===r.length,onChange:function(e){return function(e){var t=c.map((function(t){return t.completed=e,t}));o(t)}(e.target.checked)}}),Object(b.jsx)("label",{htmlFor:"toggle-all",children:"Mark all as complete"}),Object(b.jsx)(p,{todos:c,toggleTodo:function(e,t){var n=c.find((function(t){return t.id===e}));n&&(k(n.id,"completed",t),N())},removeTodo:function(e){var t=c.filter((function(t){return t.id!==e}));o(t)},status:v,onUpdateList:k})]}),Object(b.jsxs)("footer",{className:"footer",children:[Object(b.jsx)("span",{className:"todo-count","data-cy":"todosCounter",children:"".concat(r.length," items left")}),Object(b.jsx)(g,{onFilterClick:function(e){x(e)},status:v}),c.length-r.length>0&&Object(b.jsx)("button",{type:"button",className:"clear-completed",onClick:function(){var e=c.filter((function(e){return!e.completed}));o(e)},children:"Clear completed"})]})]})]})};l.a.render(Object(b.jsx)(r.a,{children:Object(b.jsx)(v,{})}),document.getElementById("root"))}},[[28,1,2]]]);
//# sourceMappingURL=main.d622ef3c.chunk.js.map